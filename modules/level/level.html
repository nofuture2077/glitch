<span class="level blue blueborder" id="level"></span>
<span class="expcontainer">
    <span class="blue" id="exp"></span>
    <span class="progress-bar">
        <span class="progress" id="progress"></span>
    </span>
</span>

<style>
span.level {
    font-size: 52px;
    font-weight: bold;
    display: inline-block;
    width: 64px;
    height: 64px;
    text-align: center;
    text-shadow: 2px 2px 1px rgba(132, 237, 233, 0.5);
    box-shadow: 3px 3px 1px rgba(132, 237, 233, 0.5);
}
.progress-bar {
    position: relative;
    display: inline-block;
    width: 400px;
    height: 18px;
    background-color: rgba(224, 95, 76, 0.2);
    box-shadow: 2px 2px 1px rgba(224, 95, 76, 0.5);
    clip-path: polygon(0 0, 0 100%, 100% 100%, 100% 8px, 390px 0);
}
.progress {
    position:absolute;
    height: 18px;
    background-color: #E05F4C;
}
.expcontainer {
    display: inline-grid;
    position: absolute;
    left: 86px;
    top: 30px;
}
</style>
<script>
    function renderLevel(data) {
        document.getElementById('level').innerHTML = data.level;
        document.getElementById('exp').innerHTML = 'EXP: ' + data.exp + ' / ' + data.levelexp;
        const width = (100 / data.levelexp * data.exp) + '%';
        document.getElementById('progress').style.width = width;
    }

    async function loadLevel() {
      return fetch('/modules/level/current').then(res => res.json());
    }
    loadLevel().then(renderLevel);

    PubSub.subscribe('MSG!level', (msg, data) => {
        renderLevel(data.data);
    });
</script>